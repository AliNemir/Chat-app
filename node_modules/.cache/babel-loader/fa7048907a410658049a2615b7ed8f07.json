{"ast":null,"code":"var _jsxFileName = \"/home/ali/Work/chat-app/src/components/AddRoom.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport { Alert, Jumbotron, Spinner, Form, Button, FormGroup, Label, Input } from \"reactstrap\";\nimport firebase from \"../Firebase\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function AddRoom() {\n  _s();\n\n  const history = useHistory();\n  const [room, setRoom] = useState({\n    roomname: \"\"\n  });\n  const [showLoading, setShowLoading] = false;\n  const ref = firebase.database().ref(\"rooms/\");\n\n  const save = e => {\n    e.preventDefault();\n    setShowLoading(true);\n    ref.orderByChild(\"roomname\").equalTo(room.roomname).once(\"value\", snapshot => {\n      if (snapshot.exists()) {\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(Alert, {\n            color: \"primary\",\n            children: \"Room name already exist!\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 31,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 30,\n          columnNumber: 13\n        }, this);\n      } else {\n        const newRoom = firebase.database().ref(\"rooms/\").push();\n        newRoom.set(room);\n        history.goBack();\n        setShowLoading(false);\n      }\n    });\n  };\n\n  const onChange = e => {\n    e.persist();\n    setRoom({ ...room,\n      [e.target.name]: e.target.value\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [showLoading && /*#__PURE__*/_jsxDEV(Spinner, {\n      color: \"primary\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 23\n    }, this), /*#__PURE__*/_jsxDEV(Jumbotron, {\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Please enter new Room\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Form, {\n        onSubmit: save,\n        children: [/*#__PURE__*/_jsxDEV(FormGroup, {\n          children: [/*#__PURE__*/_jsxDEV(Label, {\n            children: \"Room Name\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 55,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Input, {\n            type: \"text\",\n            name: \"roomname\",\n            id: \"roomname\",\n            placeholder: \"Enter Room Name\",\n            value: room.roomname,\n            onChange: onChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 56,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"primary\",\n          type: \"submit\",\n          children: \"Add\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 49,\n    columnNumber: 5\n  }, this);\n}\n\n_s(AddRoom, \"DKBS+RhdcriZsgfQ5FuHIvCN8kk=\", false, function () {\n  return [useHistory];\n});\n\n_c = AddRoom;\n\nvar _c;\n\n$RefreshReg$(_c, \"AddRoom\");","map":{"version":3,"sources":["/home/ali/Work/chat-app/src/components/AddRoom.js"],"names":["React","useState","useHistory","Alert","Jumbotron","Spinner","Form","Button","FormGroup","Label","Input","firebase","AddRoom","history","room","setRoom","roomname","showLoading","setShowLoading","ref","database","save","e","preventDefault","orderByChild","equalTo","once","snapshot","exists","newRoom","push","set","goBack","onChange","persist","target","name","value"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport {\n  Alert,\n  Jumbotron,\n  Spinner,\n  Form,\n  Button,\n  FormGroup,\n  Label,\n  Input,\n} from \"reactstrap\";\nimport firebase from \"../Firebase\";\n\nexport default function AddRoom() {\n  const history = useHistory();\n  const [room, setRoom] = useState({ roomname: \"\" });\n  const [showLoading, setShowLoading] = false;\n  const ref = firebase.database().ref(\"rooms/\");\n\n  const save = (e) => {\n    e.preventDefault();\n    setShowLoading(true);\n    ref\n      .orderByChild(\"roomname\")\n      .equalTo(room.roomname)\n      .once(\"value\", (snapshot) => {\n        if (snapshot.exists()) {\n          return (\n            <div>\n              <Alert color=\"primary\">Room name already exist!</Alert>\n            </div>\n          );\n        } else {\n          const newRoom = firebase.database().ref(\"rooms/\").push();\n          newRoom.set(room);\n          history.goBack();\n          setShowLoading(false);\n        }\n      });\n  };\n\n  const onChange = (e) => {\n    e.persist();\n    setRoom({ ...room, [e.target.name]: e.target.value });\n  };\n\n  return (\n    <div>\n      {showLoading && <Spinner color=\"primary\" />}\n      <Jumbotron>\n        <h2>Please enter new Room</h2>\n        <Form onSubmit={save}>\n          <FormGroup>\n            <Label>Room Name</Label>\n            <Input\n              type=\"text\"\n              name=\"roomname\"\n              id=\"roomname\"\n              placeholder=\"Enter Room Name\"\n              value={room.roomname}\n              onChange={onChange}\n            />\n          </FormGroup>\n          <Button variant=\"primary\" type=\"submit\">\n            Add\n          </Button>\n        </Form>\n      </Jumbotron>\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}